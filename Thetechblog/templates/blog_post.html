{% extends "base.html"%}
{% block content%}
<section
  style="
    min-height: calc(100vh - 70px);
    background:
      linear-gradient(180deg, #f8fafc 0%, #ffffff 45%),
      radial-gradient(1200px circle at top, rgba(59,130,246,0.07), transparent 40%);
    padding: 56px 16px;
    display: flex;
    justify-content: center;
  "
>
  <article
    style="
      width: 100%;
      max-width: 860px;
      background: #ffffff;
      padding: 44px 44px 52px;
      border-radius: 22px;
      box-shadow:
        0 30px 60px rgba(15,23,42,0.10),
        0 1px 0 rgba(15,23,42,0.04);
    "
  >
    <!-- CATEGORY -->
    <div
      style="
        display: inline-block;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 0.04em;
        text-transform: uppercase;
        background: rgba(37,99,235,0.1);
        color: #1d4ed8;
        margin-bottom: 20px;
      "
    >
      Blog Post
    </div>

    <!-- TITLE -->
    <h1
      style="
        font-size: clamp(30px, 4.5vw, 42px);
        font-weight: 900;
        line-height: 1.15;
        margin: 0 0 24px;
        color: #0f172a;
        letter-spacing: -0.025em;
      "
    >
      {{post.title}}
    </h1>

    <!-- META -->
    <div
      style="
        display: flex;
        align-items: center;
        gap: 14px;
        flex-wrap: wrap;
        font-size: 14px;
        color: #64748b;
        margin-bottom: 40px;
      "
    >
      <span>
        By <strong style="color:#334155;">{{post.author.username}}</strong>
      </span>
      <span>•</span>
      <span>{{post.date.strftime('%B %d, %Y')}}</span>
      <span>•</span>
      <span>5 min read</span>
    </div>

    <!-- ACCENT DIVIDER -->
    <div
      style="
        height: 4px;
        width: 72px;
        background: linear-gradient(90deg, #2563eb, #60a5fa);
        border-radius: 999px;
        margin-bottom: 36px;
      "
    ></div>

    <!-- CONTENT -->
    <div
      style="
        font-size: 18px;
        line-height: 1.9;
        color: #334155;
      "
    >
      {{post.text}}
    </div>

    <!-- FOOTER ACTIONS -->
    <div
      style="
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 20px;
        margin-top: 52px;
        padding-top: 24px;
        border-top: 1px solid #e2e8f0;
        flex-wrap: wrap;
      "
    >
      <span style="font-size: 14px; color: #64748b;">
        Published on TechTalk
      </span>

      {% if post.author == current_user %}
      <div
        style="
          display: flex;
          align-items: center;
          gap: 20px;
        "
      >
        <a
          href="{{url_for('blogposts.update',blog_post_id=post.id)}}"
          style="
            font-size: 15px;
            font-weight: 700;
            color: #2563eb;
            text-decoration: none;
            line-height: 1;
            padding: 8px 0;
          "
        >
          Update
        </a>

        <button
          type="button"
          data-bs-toggle="modal"
          data-bs-target="#DeleteBtn"
          style="
            padding: 8px 20px;
            border-radius: 12px;
            border: none;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: #ffffff;
            font-size: 15px;
            font-weight: 700;
            line-height: 1;
            cursor: pointer;
            box-shadow: 0 10px 22px rgba(239,68,68,0.35);
          "
        >
          Delete
        </button>
      </div>
      {% endif %}
    </div>
  </article>
</section>

<!-- Modal -->
<div class="modal fade" id="DeleteBtn" tabindex="-1" aria-labelledby="DeleteBtnLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="DeleteBtnLabel">Delete Post?</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Do you want to delete this post?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <form action="{{ url_for('blogposts.delete_post',blog_post_id=post.id) }}" method="POST">
        <input class="btn btn-danger" type="submit" value="Delete">
        </form>
      </div>
    </div>
  </div>
</div>
{%endblock%}
