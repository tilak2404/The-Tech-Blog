{% extends "base.html"%}
{% block content%}

<!-- HOME HERO -->
<section
  style="
    padding: 45px 20px 20px;
    text-align: center;
     background:
    linear-gradient(180deg, rgba(31, 104, 222, 0.674) 0%, transparent 45%),
    #1781ea;
"
>
  <h1
    style="
      margin: 0;
      font-size: 36px;
      font-weight: 900;
      color: #0f172a;
      letter-spacing: -0.02em;
    "
  >
    Discover what's new on TechTalk
  </h1>

  <p
    style="
      margin-top: 12px;
      font-size: 16px;
      color: #000000;
    "
  >
    Fresh insights, product launches, and tech stories
  </p>
</section>

<!-- BLOG GRID -->
<section
  style="
    padding: 20px 20px 5px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 32px;
    max-width: 1200px;
    margin: 0 auto;
  "
>
{%for post in blog_posts.items%}
  <div
    style="
      background: #ffffff;
      border-radius: 22px;
      padding: 18px 30px 20px;
      box-shadow: 0 25px 50px rgba(15,23,42,0.08);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    "
    onmouseover="
      this.style.transform='translateY(-6px)';
      this.style.boxShadow='0 35px 70px rgba(59,130,246,0.35)';
    "
    onmouseout="
      this.style.transform='translateY(0)';
      this.style.boxShadow='0 25px 50px rgba(15,23,42,0.08)';
    "
  >
    <!-- BADGE -->
    {% if post.date > new_threshold %}
    <div
      style="
        display: inline-block;
        margin-bottom: 12px;
        padding: 4px 10px;
        font-size: 11px;
        font-weight: 700;
        letter-spacing: 0.04em;
        text-transform: uppercase;
        color: #1d4ed8;
        background: rgba(37,99,235,0.12);
        border-radius: 999px;
      "
    >
      New
    </div>
    {% endif %}

    <!-- TITLE -->
    <a
      href="{{url_for('blogposts.blog_post',blog_post_id=post.id)}}"
      style="
        font-size: 20px;
        font-weight: 800;
        color: #0f172a;
        text-decoration: none;
        line-height: 1.3;
        display: block;
        transition: color 0.25s ease;
      "
      onmouseover="this.style.color='#2563eb';"
      onmouseout="this.style.color='#0f172a';"
    >
      {{post.title}}
    </a>

    <!-- META -->
    <div style="margin-top: 10px; font-size: 13px; color: #64748b;">
      Written by
      <a
        href="{{url_for('users.user_posts',username=post.author.username)}}"
        style="
          color: #475569;
          font-weight: 600;
          text-decoration: none;
        "
        onmouseover="this.style.color='#2563eb';"
        onmouseout="this.style.color='#475569';"
      >
        {{post.author.username}}
      </a>
      · <span style="color:#94a3b8;">{{post.date.strftime('%b %d, %Y')}}</span>
    </div>

    <!-- ACCENT -->
    <div
      style="
        height: 3px;
        width: 48px;
        background: linear-gradient(90deg, #2563eb, #60a5fa);
        border-radius: 999px;
        margin: 20px 0;
      "
    ></div>

    <!-- CTA -->
    <a
      href="{{url_for('blogposts.blog_post',blog_post_id=post.id)}}"
      style="
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 10px 18px;
        border-radius: 14px;
        background: linear-gradient(135deg, #2563eb, #1d4ed8);
        color: #ffffff;
        font-size: 14px;
        font-weight: 700;
        text-decoration: none;
        box-shadow: 0 12px 26px rgba(37,99,235,0.35);
        transition: transform 0.25s ease, box-shadow 0.25s ease;
      "
      onmouseover="
        this.style.transform='translateY(-2px)';
        this.style.boxShadow='0 18px 40px rgba(37,99,235,0.45)';
      "
      onmouseout="
        this.style.transform='translateY(0)';
        this.style.boxShadow='0 12px 26px rgba(37,99,235,0.35)';
      "
    >
      Read blog post →
    </a>
  </div>
{%endfor%}
</section>

<!-- PAGINATION -->
<nav aria-label="Page navigation" style="display: flex; justify-content: center; margin-top: 2rem; padding: 0 20px 40px;">
    <ul style="display: flex; list-style: none; margin: 0; padding: 0; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); overflow: hidden;">
        {% for page_num in blog_posts.iter_pages(left_edge=1,right_edge=1,left_current=1,right_current=2) %}
            {% if blog_posts.page == page_num %}
        <li style="margin: 0;"><a href="{{url_for('core.index',page=page_num)}}" style="display: block; padding: 0.6rem 0.8rem; background: #3182ce; color: white; text-decoration: none; font-weight: 500; border-right: 1px solid #2c5282;">{{page_num}}</a></li>
            {% else %}
        <li style="margin: 0;"><a href="{{url_for('core.index',page=page_num)}}" style="display: block; padding: 0.6rem 0.8rem; color: #4a5568; text-decoration: none; font-weight: 500; transition: all 0.2s ease; border-right: 1px solid #e2e8f0;" onmouseover="this.style.background='#f7fafc'; this.style.color='#2d3748';" onmouseout="this.style.background='white'; this.style.color='#4a5568';">{{page_num}}</a></li>
            {% endif %}
        {% endfor %}
    </ul>
</nav>

<style>
@media (max-width: 768px) {
    .container { padding: 0 0.5rem; }
    .card { margin-bottom: 1rem; }
    h1 { font-size: 2rem; }
}
</style>

{%endblock%}
